<section>
    <p>{{currentSection?.title}}</p>
    @if (!currentFormGroup) {
        <p>Loading...</p>
    } @else {
        <form [formGroup]="currentFormGroup">
            @for (field of currentSection?.fields; track $index) {
                <div>
                    <label for="field-{{field.id}}">{{field.label}}</label>
                    <input id="field-{{field.id}}" type="{{field.type}}" formControlName="{{field.id}}"/> 
                </div>
            }
        </form>
    }

    <footer style="position: fixed; left: 50%; bottom: 0;">
        @if (sectionIndex) {<app-action-button [variant]="'secondary'" label="Previous" (click)="goToPage(sectionIndex - 1)"></app-action-button>}
        
        @if (isLastIndex) {
            <app-action-button label="Submit"></app-action-button>
        } @else {
            <app-action-button label="Next" (click)="goToPage(sectionIndex + 1)"></app-action-button>
        }
    </footer>
</section>
